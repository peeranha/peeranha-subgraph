specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Peeranha
    network: goerli
    source:
      address: "0x70474A16BcD20c5A204974A2CaF875d4169F40F9"
      abi: Peeranha
      startBlock: 6116022 
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Peeranha
      abis:
        - name: Peeranha
          file: ./abis/Peeranha.json
      eventHandlers:
        - event: UserCreated(address)
          handler: handleNewUser
        - event: UserUpdated(address)
          handler: handleUpdatedUser
        - event: FollowedCommunity(address,uint32)
          handler: handlerFollowCommunity
        - event: UnfollowedCommunity(address,uint32)
          handler: handlerUnfollowCommunity
        - event: CommunityCreated(address,uint32)
          handler: handleNewCommunity
        - event: CommunityUpdated(address,uint32)
          handler: handleUpdatedCommunity
        - event: CommunityFrozen(address,uint32)
          handler: handleFrozenCommunity
        - event: CommunityUnfrozen(address,uint32)
          handler: handleUnfrozenCommunity
        - event: TagCreated(address,uint8,uint32)
          handler: handleNewTag
        - event: PostCreated(address,uint32,uint256)
          handler: handleNewPost
        - event: PostEdited(address,uint256)
          handler: handleEditedPost
        - event: PostDeleted(address,uint256)
          handler: handleDeletedPost
        - event: ReplyCreated(address,uint256,uint16,uint16)
          handler: handleNewReply
        - event: ReplyEdited(address,uint256,uint16)
          handler: handleEditedReply
        - event: ReplyDeleted(address,uint256,uint16)
          handler: handleDeletedReply
        - event: CommentCreated(address,uint256,uint16,uint8)
          handler: handleNewComment
        - event: CommentEdited(address,uint256,uint16,uint8)
          handler: handleEditedComment
        - event: CommentDeleted(address,uint256,uint16,uint8)
          handler: handleDeletedComment
        - event: StatusOfficialReplyChanged(address,uint256,uint16)
          handler: handlerChangedStatusOfficialReply
        - event: StatusBestReplyChanged(address,uint256,uint16)
          handler: handlerChangedStatusBestReply
        - event: ForumItemVoted(address,uint256,uint16,uint8,int8)
          handler: handlerForumItemVoted

      file: ./src/mapping.ts

  - kind: ethereum/contract
    name: PeeranhaNFT
    network: goerli
    source:
      address: "0xcd73A3f09B3FB4e7C27C9379ce5737269bbEb8D9"
      abi: PeeranhaNFT
      startBlock: 6461248
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PeeranhaNFT
      abis:
        - name: PeeranhaNFT
          file: ./abis/PeeranhaNFT.json
      eventHandlers:
        - event: ConfigureNewAchievementNFT(uint64)
          handler: handleConfigureNewAchievement
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransferAchievement

      file: ./src/mapping.ts
